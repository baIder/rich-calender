{"mappings":"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","sources":["main.js"],"sourcesContent":["let currentTime = new Date()\r\n\r\nrender(currentTime)\r\n\r\ng('#prevMonth').onclick = () => {\r\n  const firstDayOfCurrentMonth = new Date(currentTime.getFullYear(), currentTime.getMonth(), 1)\r\n  render(new Date(firstDayOfCurrentMonth - 86400 * 1000))\r\n}\r\n\r\ng('#nextMonth').onclick = () => {\r\n  const firstDayOfNextMonth = new Date(currentTime.getFullYear(), currentTime.getMonth() + 1, 1)\r\n  render(firstDayOfNextMonth)\r\n}\r\n\r\ng('#today').onclick = () => {\r\n  render(new Date())\r\n}\r\n\r\nfunction render(time) {\r\n  const year = time.getFullYear()\r\n  const month = time.getMonth() + 1\r\n\r\n  initialTime()\r\n  generateDays(year, month)\r\n  currentTime = time\r\n\r\n  function initialTime() {\r\n    const time = g('#time')\r\n    time.textContent = `${year}年${month}月`\r\n  }\r\n\r\n  function generateDays(year, month) {\r\n    const days = g('#days')\r\n    const firstDayOfCurrentMonth = new Date(year, month - 1, 1)\r\n    let weekdayOfFirstDayOfCurrentMonth = firstDayOfCurrentMonth.getDay()\r\n    const lastDayOfCurrentMonth = new Date(new Date(year, month - 1 + 1, 1) - 86400 * 1000)\r\n    const daysOfCurrentMonth = lastDayOfCurrentMonth.getDate()\r\n\r\n    days.innerHTML = ''\r\n\r\n    const fragment = document.createDocumentFragment()\r\n\r\n    const now = new Date()\r\n    let selectedLi\r\n\r\n    days.addEventListener('click', (e) => {\r\n      if (selectedLi) {\r\n        selectedLi.classList.remove('calender-days-selected')\r\n      }\r\n      e.target.classList.add('calender-days-selected')\r\n      selectedLi = e.target\r\n      if (e.target.classList.contains('calender-days-hasEvents')) {\r\n        const key = `${year}-${month}-${e.target.textContent}`\r\n        const events = window.data[key]\r\n        const eventFragment = document.createDocumentFragment()\r\n        events.map(event => {\r\n          const div = document.createElement('div')\r\n          div.classList.add('events-item')\r\n          div.textContent = event\r\n          eventFragment.append(div)\r\n        })\r\n        g('#events').innerHTML = \"\"\r\n        g('#events').append(eventFragment)\r\n      } else {\r\n        g('#events').innerHTML = \"<div>无</div>\"\r\n      }\r\n    })\r\n\r\n    if (weekdayOfFirstDayOfCurrentMonth === 0) {\r\n      weekdayOfFirstDayOfCurrentMonth = 7\r\n    }\r\n\r\n    for (let i = 1; i < weekdayOfFirstDayOfCurrentMonth; i++) {\r\n      const li = document.createElement('li')\r\n      const d = new Date(firstDayOfCurrentMonth - 86400 * 1000 * i)\r\n      li.textContent = d.getDate().toString()\r\n      li.classList.add('calender-days-disabled')\r\n      fragment.prepend(li)\r\n    }\r\n\r\n    for (let i = 1; i <= daysOfCurrentMonth; i++) {\r\n      const li = document.createElement('li')\r\n      li.textContent = i.toString()\r\n      if (i === now.getDate() && month === now.getMonth() + 1 && year === now.getFullYear()) {\r\n        li.classList.add(\"calender-days-today\")\r\n      }\r\n      const key = `${year}-${month}-${i}`\r\n      const events = window.data[key]\r\n      if (events) {\r\n        li.classList.add('calender-days-hasEvents')\r\n      }\r\n      fragment.append(li)\r\n    }\r\n\r\n    for (let i = lastDayOfCurrentMonth.getDay() + 1; i <= 7; i++) {\r\n      if (i === 1) {\r\n        break\r\n      }\r\n      const li = document.createElement('li')\r\n      li.textContent = (i - lastDayOfCurrentMonth.getDay()).toString()\r\n      li.classList.add('calender-days-disabled')\r\n      fragment.append(li)\r\n    }\r\n    days.append(fragment)\r\n  }\r\n}\r\n\r\nfunction g(selector) {\r\n  return document.querySelector(selector)\r\n}\r\n\r\n"],"names":[],"version":3,"file":"index.50b6aaa5.js.map"}